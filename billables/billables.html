<template name="Billables$Edit">
{{> tabular table=makeTable class="responsive-table striped"}}
   <span style="color:red;">id :  {{editingRow}}</span>
</template>
<!--
<template name="Billable$LineActions">
  <button>X</button>
</template>-->

<template name="Billable$columnHead">
    {{translateType type }}
    <select class="browser-default">
        <option value="" disable selected></option>
        {{#each sortedValues}}
            <option value="{{value}}">{{translate value}}</option>
        {{/each}}
    </select>
</template>

<template name="Billable$cell$type">
    {{#if isEditing}}
        {{! TODO: We should ideally have the exact same template body for all drop-down selectable cells.
        Referencing "type" below defeats that. }}
        {{> SelectWidget options=SelectWidget$options currentValue=type}}
    {{else}}
        {{translate type}}
    {{/if}}
</template>

<template name="SelectWidget">
    <select class="browser-default {{options.uniqueClass}}">
        <option value="" disabled selected></option>
        {{#each options.values}}
            <option value="{{value}}" {{../options.maybeSelected ../currentValue value}}>{{translate value}}</option>
        {{/each}}
    </select>
</template>

<template name="Billable$cell$operatedByUser">
    {{> Widget$Select value=operatedByUser values=users editable=isEditing helpers=userTranslate vmTag="operatedByUser"}}
</template>

<template name="Billable$cell$billableToAccount">
    {{#if isEditing}}
        {{> Billable$cell$billableToAccount$edit}}
    {{else}}
        {{toAccount}}
    {{/if}}
</template>

<template name="Billable$cell$billableToAccount$edit">
    <div class="row">
        <div class="input-field col s12">
            <input value="{{valueToAccount}}" id="account" type="text" class="validate accountEdit">
            <label class="active" for="account">account</label>
        </div>
    </div>
</template>

<template name="Billable$cell$billableToProject">
    <div class="projectEdit">
        {{> Widget$Select value=billableToProject values=projects editable=isEditing}}
    </div>
</template>


<template name="Billable$cell$startTime">
    {{#if isEditing}}
        {{> Billable$cell$startTime$edit}}
    {{else}}
        {{formattedDate}}
    {{/if}}
</template>

<template name="Billable$cell$startTime$edit">
    <div class="row">
        <div class="form-group col s12" style="position: relative;">
            <div class="input-group date" >
                <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
                <input type="text" class="startTimeEdit set-due-date form-control"  value="{{asDatePickerTime startTime}}" />
            </div>
        </div>
    </div>
</template>

<template name="Billable$cell$billingDetails">
    {{#if isEditing}}
        {{> Billable$cell$billingDetails$edit}}
    {{else}}
        {{billingDetails}}
    {{/if}}
</template>

<template name="Billable$cell$billingDetails$edit">
    <div class="row">
        <form class="col s12">
            <div class="row" >
                <div class="input-field col s12">
                    <i class="material-icons prefix">mode_edit</i>
                    <textarea id="icon_prefix2" class="materialize-textarea billAreaEdit" length="120">{{billingDetails}}</textarea>
                </div>
            </div>
        </form>
    </div>
</template>

<template name="Billable$cell$discount">
    <div class="discountEdit">
        {{> Widget$Select value=discount values=discounts editable=isEditing}}
    </div>
</template>

<template name="Billable$cell$validationState">
    <div class="stateEdit">
        {{> Widget$Select value=validationState values=validationStates editable=isEditing}}
    </div>
</template>

<template name="Billable$cell$valSaveBtn">
    {{#if isEditing}}
        {{> Billable$cell$valSaveBtn$edit}}
    {{/if}}
</template>

<template name="Billable$cell$valSaveBtn$edit">
    <button class="btn-floating waves-effect waves-light cancelItem" ><i class="material-icons">cancel</i></button>
</template>

<template name="Billables$addButton">
    <!-- Modal Trigger -->
    <a class="btn-floating btn-large waves-effect waves-light red modal-trigger" data-target="modalAddUser"><i class="material-icons">add</i></a>

    {{> Billable$cell$modalUser}}
</template>

<template name="Billable$cell$modalUser">
    <!-- Modal Structure -->
    <div id="modalAddUser" class="modal bottom-sheet">
        <div class="modal-content center">
            <h4>Add User</h4>
            <div class="row">
                <form class="col s6 offset-s3">
                    <div class="row">
                        <div class="input-field col s6">
                            <input id="first_name" type="text" class="validate">
                            <label for="first_name">First Name</label>
                        </div>
                        <div class="input-field col s6">
                            <input id="last_name" type="text" class="validate">
                            <label for="last_name">Last Name</label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-field col s12">
                            <input id="password" type="password" class="validate">
                            <label for="password">Password</label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-field col s12">
                            <input id="email" type="email" class="validate">
                            <label for="email">Email</label>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <div class="modal-footer">
            <div class="row">
                <div class="col s6 center">
                    <div class="row">
                        <a class="modal-action modal-close btn-floating btn-large waves-effect waves-light green" href="#!"><i class="material-icons">done</i></a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>

<template name="Billable$cell$toastEdited">
    <span>
        {{#if error}}
            {{> errorIcon}}Failed to edit Row
        {{else}}
            {{> doneIcon}} 1 Row edited successfully
        {{/if}}
    </span>
</template>

<template name="errorIcon">
    <i class="material-icons left materialize-red-text text-lighten-1">&#xE001;</i>
</template>

<template name="doneIcon">
    <i class="material-icons left light-green-text text-darken-2">&#xE876;</i>
</template>

<template name="Billable$Pagination">
    {{> Billables$addButton}}<button class="previous btn-large waves-effect waves-light">Previous</button> <span class="letSize">{{page}} of {{pages}}</span> <button class="next btn-large waves-effect waves-light">Next</button>
</template>