<template name="Widget$Gallery$gallery">
    <table>
        {{#each w in widgets}}
            {{#each moar in moarWidgets}}
              <tr>{{> Template.dynamic (galleryItem w isLast=moar.isLast)}}</tr>
            {{/each}}
        {{/each}}
    </table>
    {{> Widget$Gallery$example}}
</template>

<template name="Widget$Gallery$moar"><button>+</button></template>

<!-- For each widget name, a template is created programmatically e.g.
     Widget$Gallery$item$Select that invokes this one. -->
<template name="Widget$Gallery$$genericItem">
    <td>{{#if isLast}}<button>+</button>{{/if}}<code>Widget.{{wid}}</code></td>
    <td><select class="editability browser-default">
        <option value="readonly"><code>"readonly"</code></option>
        <option value="editable"><code>"editable"</code></option>
    </select></td>
    {{> Template.dynamic (moreControls wid)}}
    <td>{{> Template.dynamic (widgetHere wid)}}</td>
    <td>Current value is: <input type="text" class="external-value browser-default" {{widgetInitialValue wid}}></td>
</template>

<template name="Widget$Gallery$test">
    Hello, {{world}}
</template>

<!-- Complete yet simple example, without any metaprogramming -->
<template name="Widget$Gallery$example">
   <hr>
    <div>{{_ "WidgetGallery.whatIsYourFavoriteColor"}}
        {{> Widget$Select values=myFavoriteColors editable=myEditableFunc
                helpers=myHelpers }}
    </div>
</template>

<!-------------------- Widget-specific scaffolding ------------------------->

<template name="Widget$Gallery$Select">

</template>

<template name="Widget$Gallery$MoreControls$Select">
    <td>Allowed values:<textarea>RED
GREEN
BLUE</textarea></td>
</template>
